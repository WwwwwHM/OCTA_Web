# ğŸš€ OCTAæ¨¡å‹è®­ç»ƒåŠŸèƒ½ - å¿«é€Ÿå¼€å§‹æŒ‡å—

## âš¡ 5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨

### 1ï¸âƒ£ å¯åŠ¨åç«¯ï¼ˆå¿…é¡»å…ˆå¯åŠ¨ï¼‰

```bash
cd octa_backend
python main.py
```

**é¢„æœŸè¾“å‡ºï¼š**
```
======================================================================
OCTA image segmentation backend starting up...
======================================================================
[INFO] Service address: 127.0.0.1:8000
[INFO] CORS allowed origins: 2 frontend addresses
[SUCCESS] Backend initialization successful
======================================================================
```

âœ… åç«¯è¿è¡Œåœ¨ `http://127.0.0.1:8000`

### 2ï¸âƒ£ å¯åŠ¨å‰ç«¯

```bash
cd octa_frontend

# é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

**é¢„æœŸè¾“å‡ºï¼š**
```
  VITE v7.3.0  ready in XXX ms

  âœ  Local:   http://127.0.0.1:5173/
  âœ  Press h + enter to show help
```

âœ… å‰ç«¯è¿è¡Œåœ¨ `http://127.0.0.1:5173`

### 3ï¸âƒ£ è®¿é—®è®­ç»ƒé¡µé¢

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š
```
http://127.0.0.1:5173/train
```

æˆ–ç‚¹å‡»å¯¼èˆªèœå•çš„ **"Training"** æŒ‰é’®

---

## ğŸ“¦ å‡†å¤‡æµ‹è¯•æ•°æ®

### åˆ›å»ºæœ€å°æµ‹è¯•æ•°æ®é›†

ä¸ºäº†å¿«é€Ÿæµ‹è¯•ï¼Œåˆ›å»ºä¸€ä¸ª `test_dataset.zip` åŒ…å«ï¼š

```
test_dataset.zip
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ test1.png     # 256x256 OCTAè¡€ç®¡æˆåƒå›¾
â”‚   â””â”€â”€ test2.png
â””â”€â”€ masks/
    â”œâ”€â”€ test1.png     # å¯¹åº”çš„äºŒå€¼æ ‡æ³¨ï¼ˆ0é»‘/255ç™½ï¼‰
    â””â”€â”€ test2.png
```

**å›¾åƒè¦æ±‚ï¼š**
- âœ… å°ºå¯¸ï¼šå»ºè®®256x256ï¼ˆä¼šè‡ªåŠ¨è°ƒæ•´ï¼‰
- âœ… æ ¼å¼ï¼šPNG/JPG/JPEGï¼ˆå›¾åƒï¼‰ï¼ŒPNGï¼ˆæ ‡æ³¨ï¼‰
- âœ… æ•°é‡ï¼šè‡³å°‘2å¼ ï¼ˆè¶Šå¤šè¶Šå¥½ï¼‰
- âœ… å¤§å°ï¼šæ€»è®¡<50MB

**ç”Ÿæˆç¤ºä¾‹å›¾åƒï¼ˆä½¿ç”¨Pythonï¼‰ï¼š**

```python
import numpy as np
from PIL import Image

# ç”ŸæˆéšæœºOCTAå›¾åƒï¼ˆ256x256 RGBï¼‰
img = np.random.randint(0, 256, (256, 256, 3), dtype=np.uint8)
Image.fromarray(img).save('images/test1.png')

# ç”Ÿæˆéšæœºæ ‡æ³¨ï¼ˆ256x256 ç°åº¦ï¼‰
mask = np.random.randint(0, 2, (256, 256), dtype=np.uint8) * 255
Image.fromarray(mask).save('masks/test1.png')
```

---

## ğŸ¯ å®Œæ•´è®­ç»ƒæµç¨‹ï¼ˆ5-30åˆ†é’Ÿï¼‰

### ç¬¬1æ­¥ï¼šä¸Šä¼ æ•°æ®é›†

1. è®¿é—® http://127.0.0.1:5173/train
2. æ‹–æ‹½ `test_dataset.zip` åˆ°ä¸Šä¼ åŒºï¼Œæˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶
3. çœ‹åˆ°æç¤º **"æ–‡ä»¶é€‰æ‹©æˆåŠŸï¼Œç‚¹å‡»'å¼€å§‹è®­ç»ƒ'æŒ‰é’®"** âœ…

### ç¬¬2æ­¥ï¼šé…ç½®è®­ç»ƒå‚æ•°

**å¿«é€Ÿæµ‹è¯•ï¼ˆ5åˆ†é’Ÿï¼‰ï¼š**
- è®­ç»ƒè½®æ•°ï¼š`5`
- å­¦ä¹ ç‡ï¼š`0.001`
- æ‰¹æ¬¡å¤§å°ï¼š`4`

**æ ‡å‡†è®­ç»ƒï¼ˆ15åˆ†é’Ÿï¼‰ï¼š**
- è®­ç»ƒè½®æ•°ï¼š`10` ï¼ˆé»˜è®¤ï¼‰
- å­¦ä¹ ç‡ï¼š`0.001` ï¼ˆé»˜è®¤ï¼‰
- æ‰¹æ¬¡å¤§å°ï¼š`4` ï¼ˆé»˜è®¤ï¼‰

**é«˜è´¨é‡è®­ç»ƒï¼ˆ30åˆ†é’Ÿï¼‰ï¼š**
- è®­ç»ƒè½®æ•°ï¼š`20`
- å­¦ä¹ ç‡ï¼š`0.0005`
- æ‰¹æ¬¡å¤§å°ï¼š`2`

### ç¬¬3æ­¥ï¼šå¼€å§‹è®­ç»ƒ

ç‚¹å‡» **"å¼€å§‹è®­ç»ƒ"** æŒ‰é’®

**å®æ—¶åé¦ˆï¼š**
```
ğŸ“¤ æ•°æ®é›†ä¸Šä¼ ä¸­ï¼š0% â†’ 50%    [~1åˆ†é’Ÿ]
ğŸ”„ è®­ç»ƒè¿›è¡Œä¸­ï¼š50% â†’ 100%   [~5-30åˆ†é’Ÿï¼Œå–å†³äºå‚æ•°]
âœ… è®­ç»ƒå®Œæˆï¼                 [ç‚¹å‡»æŸ¥çœ‹ç»“æœ]
```

### ç¬¬4æ­¥ï¼šæŸ¥çœ‹ç»“æœ

**æ˜¾ç¤ºå†…å®¹ï¼š**

ğŸ“Š **è¯„ä¼°æŒ‡æ ‡è¡¨**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯„ä¼°æŒ‡æ ‡    â”‚ æ•°å€¼     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Diceç³»æ•°    â”‚ 0.xxxx   â”‚
â”‚ IOUç³»æ•°     â”‚ 0.xxxx   â”‚
â”‚ è®­ç»ƒè½®æ•°    â”‚ 10       â”‚
â”‚ å­¦ä¹ ç‡      â”‚ 0.001    â”‚
â”‚ æ‰¹æ¬¡å¤§å°    â”‚ 4        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ğŸ“ˆ **æŸå¤±æ›²çº¿ï¼ˆå¯äº¤äº’ï¼‰**
- é¼ æ ‡æ‚¬æµ®æ˜¾ç¤ºå…·ä½“æ•°å€¼
- æ‹–æ‹½ç¼©æ”¾æŸ¥çœ‹ç»†èŠ‚
- è“è‰²çº¿ï¼šè®­ç»ƒæŸå¤±
- çº¢è‰²çº¿ï¼šéªŒè¯æŸå¤±

**æœŸæœ›ç»“æœï¼š**
- âœ… ä¸¤æ¡çº¿åŒæ­¥ä¸‹é™
- âœ… æœ€åè¶‹äºå¹³ç¨³
- âŒ é¿å…è®­ç»ƒæŸå¤±ä¸‹é™ä½†éªŒè¯æŸå¤±ä¸Šå‡ï¼ˆè¿‡æ‹Ÿåˆï¼‰

### ç¬¬5æ­¥ï¼šä½¿ç”¨æ–°æ¨¡å‹ï¼ˆå¯é€‰ï¼‰

ç‚¹å‡» **"ä½¿ç”¨è®­ç»ƒåçš„æ¨¡å‹è¿›è¡Œåˆ†å‰²"** æŒ‰é’®

ç³»ç»Ÿä¼šï¼š
1. åˆ‡æ¢æ¨¡å‹æƒé‡ä¸ºæ–°è®­ç»ƒçš„æ¨¡å‹
2. è¿”å›ä¸»é¡µé¢è¿›è¡Œåˆ†å‰²æ¨ç†æµ‹è¯•

---

## ğŸ” å®æ—¶ç›‘æ§åç«¯

åœ¨åç«¯ç»ˆç«¯æŸ¥çœ‹è®­ç»ƒæ—¥å¿—ï¼š

```
[INFO] å¼€å§‹å¤„ç†OCTAå›¾åƒ: uploads/datasets/xxxx/...
[INFO] æ­£åœ¨åŠ è½½OCTAé¢„è®­ç»ƒæ¨¡å‹...
[INFO] æ•°æ®é›†åŠ è½½å®Œæˆ: 8 ä¸ªæ ·æœ¬
[INFO] å¼€å§‹ç¬¬ 1/10 è½®è®­ç»ƒ...
[INFO] Epoch 1/10, Train Loss: 0.5432, Val Loss: 0.4821, Dice: 0.7234, IOU: 0.6123
[INFO] Epoch 2/10, Train Loss: 0.4821, Val Loss: 0.4156, Dice: 0.7856, IOU: 0.6456
...
[SUCCESS] è®­ç»ƒå®Œæˆï¼æ¨¡å‹å·²ä¿å­˜åˆ° models/weights/trained_unet_20260115_120000.pth
```

---

## âœ… éªŒè¯æ£€æŸ¥æ¸…å•

å¯åŠ¨å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [x] åç«¯åœ¨ `http://127.0.0.1:8000` è¿è¡Œ
- [x] å‰ç«¯åœ¨ `http://127.0.0.1:5173` è¿è¡Œ
- [x] å¯¼èˆªèœå•æ˜¾ç¤º "Training" é€‰é¡¹
- [x] é¡µé¢æ˜¾ç¤ºä¸Šä¼ åŒºã€å‚æ•°é…ç½®ã€"å¼€å§‹è®­ç»ƒ"æŒ‰é’®
- [x] æ•°æ®é›† ZIP åŒ…å‡†å¤‡å°±ç»ª

---

## ğŸ› å¸¸è§é—®é¢˜é€ŸæŸ¥

### â“ è®¿é—® /train é¡µé¢å‡ºç°404

**è§£å†³ï¼š** åˆ·æ–°æµè§ˆå™¨ `F5`

### â“ ä¸Šä¼ å¤±è´¥ï¼Œæç¤º"æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®"

**è§£å†³ï¼š** 
- æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸º `.zip` æ ¼å¼
- æ£€æŸ¥ZIPåŒ…å†…æ˜¯å¦åŒ…å« `images/` å’Œ `masks/` æ–‡ä»¶å¤¹
- æ–‡ä»¶åæ˜¯å¦ä¸€ä¸€å¯¹åº”

### â“ æŸå¤±æ›²çº¿ä¸æ˜¾ç¤º

**è§£å†³ï¼š**
```bash
cd octa_frontend
npm install echarts
npm run dev
```

### â“ è®­ç»ƒå¼‚å¸¸ä¸­æ–­

**è§£å†³ï¼š**
1. æŸ¥çœ‹åç«¯ç»ˆç«¯é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥æ•°æ®é›†å®Œæ•´æ€§
3. å‡å°‘æ•°æ®é›†å¤§å°é‡è¯•

### â“ æ— æ³•è¿æ¥åç«¯

**è§£å†³ï¼š**
1. ç¡®è®¤åç«¯å·²å¯åŠ¨ï¼š`python main.py`
2. ç¡®è®¤ç«¯å£ 8000 æœªè¢«å ç”¨
3. æµè§ˆå™¨è®¿é—® `http://127.0.0.1:8000/` æµ‹è¯•

---

## ğŸ“Š æœŸæœ›ç»“æœ

### è®­ç»ƒæˆåŠŸæŒ‡æ ‡

| æŒ‡æ ‡ | æœŸæœ›å€¼ | è¯´æ˜ |
|------|--------|------|
| Diceç³»æ•° | > 0.7 | è¶Šæ¥è¿‘1è¶Šå¥½ |
| IOUç³»æ•° | > 0.6 | è¶Šæ¥è¿‘1è¶Šå¥½ |
| æŸå¤±æ›²çº¿ | å•è°ƒé€’å‡ | è®­ç»ƒæŸå¤±åº”æŒç»­ä¸‹é™ |
| éªŒè¯æŸå¤± | æœ€åç¨³å®š | ä¸åº”æŒç»­ä¸Šå‡ï¼ˆè¿‡æ‹Ÿåˆï¼‰ |

### è®­ç»ƒé€Ÿåº¦é¢„æœŸ

| é…ç½® | è€—æ—¶ | è®¾å¤‡ |
|------|------|------|
| epochs=5, batch=4 | ~5åˆ†é’Ÿ | CPU |
| epochs=10, batch=4 | ~15åˆ†é’Ÿ | CPU |
| epochs=20, batch=2 | ~45åˆ†é’Ÿ | CPU |

---

## ğŸ¨ é¡µé¢æˆªå›¾è¯´æ˜

### ä¸Šä¼ åŒº
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®é›†ä¸Šä¼ ï¼ˆOCTAåˆ†å‰²ï¼‰              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚   å°†OCTAæ•°æ®é›†ZIPåŒ…æ‹–åˆ°æ­¤å¤„          â”‚
â”‚   æˆ– ç‚¹å‡»ä¸Šä¼                         â”‚
â”‚   ï¼ˆè¦æ±‚ï¼šZIPåŒ…å«images/masks...ï¼‰   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®­ç»ƒè½®æ•°ï¼š  [10]   â”‚  å­¦ä¹ ç‡ï¼š[0.001]  â”‚
â”‚  æ‰¹æ¬¡å¤§å°ï¼š  [4]                     â”‚
â”‚                                     â”‚
â”‚           [  å¼€å§‹è®­ç»ƒ  ]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### çŠ¶æ€åŒºï¼ˆè®­ç»ƒä¸­ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è®­ç»ƒçŠ¶æ€                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â„¹ï¸  è®­ç»ƒè¿›è¡Œä¸­ï¼Œè¯·ç¨å€™...           â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 50%         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»“æœåŒºï¼ˆå®Œæˆåï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è®­ç»ƒç»“æœ                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¯„ä¼°æŒ‡æ ‡                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Diceç³»æ•°  â”‚  0.8234  â”‚             â”‚
â”‚  â”‚ IOUç³»æ•°   â”‚  0.7156  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                     â”‚
â”‚  è®­ç»ƒ/éªŒè¯æŸå¤±æ›²çº¿                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  ğŸ“ˆ                      â”‚         â”‚
â”‚  â”‚                         â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                     â”‚
â”‚  [ä½¿ç”¨è®­ç»ƒåçš„æ¨¡å‹] [é‡æ–°è®­ç»ƒ]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ ä¼˜åŒ–å»ºè®®

### æé«˜åˆ†å‰²è´¨é‡

1. **å¢åŠ æ•°æ®é‡**
   - æ›´å¤šæ ·æœ¬æ•°æ®ï¼ˆ>100å¼ ï¼‰
   - å¤šæ ·åŒ–å›¾åƒï¼ˆä¸åŒæ‰«æå‚æ•°ï¼‰

2. **è°ƒæ•´å‚æ•°**
   - é™ä½å­¦ä¹ ç‡ï¼š`0.0005`
   - å¢åŠ è®­ç»ƒè½®æ•°ï¼š`30-50`
   - å‡å°æ‰¹æ¬¡å¤§å°ï¼š`2`

3. **æ•°æ®å¢å¼º**ï¼ˆé¢„å¤„ç†ï¼‰
   - æ—‹è½¬ã€ç¿»è½¬
   - äº®åº¦/å¯¹æ¯”åº¦è°ƒæ•´
   - å™ªå£°æ·»åŠ 

### åŠ é€Ÿè®­ç»ƒ

1. **å‡å°‘æ•°æ®**
   - é€‰æ‹©å…³é”®æ ·æœ¬
   - é™ä½åˆ†è¾¨ç‡ï¼ˆ112x112ï¼‰

2. **è°ƒæ•´å‚æ•°**
   - å‡å°‘è½®æ•°ï¼š`5`
   - å¢åŠ æ‰¹æ¬¡å¤§å°ï¼š`8`

3. **å¹¶è¡Œå¤„ç†**
   - å¢åŠ  DataLoader workers

---

## ğŸ”— ç›¸å…³èµ„æº

- ğŸ“– [è¯¦ç»†ä½¿ç”¨æŒ‡å—](octa_frontend/TRAIN_PAGE_GUIDE.md)
- ğŸ“˜ [é¡¹ç›®README](README.md)
- ğŸ› ï¸ [æ•…éšœæ’æŸ¥æŒ‡å—](octa_backend/TROUBLESHOOTING.md)
- ğŸ“š [åç«¯APIæ–‡æ¡£](http://127.0.0.1:8000/docs)

---

## ğŸ“ å­¦ä¹ èµ„æº

- [PyTorchå®˜æ–¹æ•™ç¨‹](https://pytorch.org/tutorials/)
- [U-Netè®ºæ–‡](https://arxiv.org/abs/1505.04597)
- [OCTAæˆåƒä»‹ç»](https://en.wikipedia.org/wiki/Optical_coherence_tomography_angiography)
- [Vue 3æ–‡æ¡£](https://vuejs.org/)
- [EChartsæ–‡æ¡£](https://echarts.apache.org/)

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿç°åœ¨å°±å¼€å§‹ä½ çš„ç¬¬ä¸€æ¬¡è®­ç»ƒå§ï¼ ğŸš€**

æœ‰é—®é¢˜ï¼ŸæŸ¥çœ‹ [FAQ](octa_frontend/TRAIN_PAGE_GUIDE.md#-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) æˆ–åç«¯æ—¥å¿—ï¼
