# 训练界面差异化 - 快速参考

## 🎯 界面对比

### U-Net 训练界面（简洁版）
```
┌─────────────────────────────────────────┐
│  📊 选择训练模型                         │
│  ┌──────────────┐    ┌──────────────┐  │
│  │   U-Net      │    │ RS-Unet3+    │  │
│  │  ✓ 选中      │    │    Pro       │  │
│  │  通用训练    │    │  专用训练    │  │
│  │  经典分割    │    │  高精度OCTA  │  │
│  └──────────────┘    └──────────────┘  │
│                                         │
│  基础参数配置                           │
│  ┌─────────────────────────────────┐   │
│  │ 训练轮数:        [   50   ]     │   │
│  │               推荐: 50           │   │
│  │                                 │   │
│  │ 学习率:         [  0.001  ]     │   │
│  │               推荐: 0.001        │   │
│  │                                 │   │
│  │ 批次大小:        [   4    ]     │   │
│  │               推荐: 4            │   │
│  │                                 │   │
│  │ 💡 U-Net 是一个经典且稳定的...  │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

### RS-Unet3+ 训练界面（专业版）
```
┌─────────────────────────────────────────────┐
│  📊 选择训练模型                             │
│  ┌──────────────┐    ┌──────────────────┐  │
│  │   U-Net      │    │ RS-Unet3+    Pro │  │ ← Pro 徽章
│  │  通用训练    │    │ ✓ 选中（绿边框） │  │
│  │  经典分割    │    │ 专用训练（OCTA） │  │
│  └──────────────┘    └──────────────────┘  │
│                                             │
│  核心参数                          [自适应] │
│  优化用于 OCTA 微血管分割，已自动配置最优值│
│  ┌─────────────────────────────────────┐   │
│  │ 训练轮数:        [   200   ]       │   │
│  │              推荐: 200              │   │
│  │                                     │   │
│  │ 学习率:         [  0.0001  ]       │   │
│  │              推荐: 1e-4             │   │
│  │                                     │   │
│  │ 批次大小:        [   4    ]        │   │
│  │              推荐: 4               │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  高级选项 - 针对 OCTA 图像的特化参数       │
│  ┌─────────────────────────────────────┐   │
│  │ 注意力权重:  ├─●────────┤ 0.8      │   │
│  │ 调整 Split-Attention 机制强度       │   │
│  │                                     │   │
│  │ 深度监督:      ○ 禁用  ● 启用      │   │
│  │ 在多个解码层应用监督信号，改进精度  │   │
│  │                                     │   │
│  │ 损失函数:  [Lovasz-Softmax] [禁用]│   │ ← 只读
│  │ 已锁定为最优，不可修改              │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  🌟 RS-Unet3+ 专用优化：                    │
│  融合了 Split-Attention 机制和多尺度监督，│
│  专门为 OCTA 微血管分割设计。建议数据集   │
│  包含 200+ 张高质量 OCTA 图像，可显著提   │
│  升分割精度（Dice 提升 5-10%）。           │
└─────────────────────────────────────────────┘
```

---

## 🔄 参数对照表

| 参数 | U-Net 推荐 | RS-Unet3+ 推荐 | 说明 |
|-----|-----------|----------------|------|
| Epochs | **50** | **200** | 训练轮数（OCTA 需要更多轮数以收敛） |
| Learning Rate | **0.001** | **0.0001** | 学习率（RS-Unet3+ 使用更小的学习率） |
| Batch Size | **4** | **4** | 批次大小（保持一致，适配 GPU 内存） |
| Attention Weight | - | **0.8** | ✨ **新增**：注意力机制强度 |
| Deep Supervision | - | **✅ 启用** | ✨ **新增**：多层监督信号 |
| Loss Function | 标准 CrossEntropy | **Lovasz-Softmax** | ✨ **新增**：血管分割优化损失函数 |

---

## 🎨 样式特征

### U-Net 卡片
- 灰色边框 `#dcdfe6`
- 蓝色悬停 `#409eff`
- 白色背景，浅蓝高亮

### RS-Unet3+ 卡片
- **绿色边框** `#67c23a` ✨
- **Pro 徽章** 右上角 ✨
- 绿色悬停效果
- 专业感强

---

## 💻 前端组件使用

### 模型选择（卡片点击切换）
```vue
<div class="model-card" @click="trainParams.model_arch = 'unet'">
  <div class="card-title">U-Net</div>
  <div class="card-badge">通用训练</div>
</div>
```

### 条件渲染表单
```vue
<!-- U-Net 表单 -->
<el-form v-if="trainParams.model_arch === 'unet'">
  <!-- 简化参数 -->
</el-form>

<!-- RS-Unet3+ 表单 -->
<el-form v-if="trainParams.model_arch === 'rs_unet3_plus'">
  <!-- 高级参数 -->
</el-form>
```

### 参数自动填充
```javascript
handleModelArchChange('rs_unet3_plus') // 自动填充最优参数
// trainParams 变为：
// {
//   epochs: 200,
//   lr: 0.0001,
//   attention_weight: 0.8,
//   deep_supervision: true,
//   loss_function: 'Lovasz-Softmax'
// }
```

---

## 📤 API 提交数据

### U-Net 提交
```json
{
  "model_arch": "unet",
  "epochs": 50,
  "lr": 0.001,
  "batch_size": 4
}
```

### RS-Unet3+ 提交
```json
{
  "model_arch": "rs_unet3_plus",
  "epochs": 200,
  "lr": 0.0001,
  "batch_size": 4,
  "attention_weight": 0.8,
  "deep_supervision": true,
  "loss_function": "lovasz_softmax"
}
```

---

## ✅ 已实现清单

- ✅ 模型选择卡片（视觉化替代下拉框）
- ✅ U-Net 简化界面（3 个基础参数）
- ✅ RS-Unet3+ 高级界面（6 个参数）
- ✅ Pro 徽章和绿色边框
- ✅ 参数自动填充（切换模型时）
- ✅ 参数验证范围
- ✅ 参数提示文本
- ✅ 响应式设计
- ✅ 前端构建成功 ✨

---

## 🔮 后续开发建议

1. **后端集成**
   - 接收并保存新的 RS-Unet3+ 参数
   - 在模型训练中应用这些参数
   - 验证参数有效性

2. **功能增强**
   - 参数预设管理
   - 参数验证和错误提示
   - 训练历史参数查看

3. **可视化**
   - 参数说明工具提示
   - 参数影响力示意图
   - 实时性能监控

---

**修改时间：** 2026年1月20日  
**前端构建：** ✅ 成功（12.44s）  
**状态：** 🚀 准备就绪
