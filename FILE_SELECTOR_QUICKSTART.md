# æ–‡ä»¶é€‰æ‹©å™¨åŠŸèƒ½ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒ

### å‰ç½®æ¡ä»¶
- âœ… åç«¯æœåŠ¡è¿è¡Œä¸­ (`http://127.0.0.1:8000`)
- âœ… å‰ç«¯æœåŠ¡è¿è¡Œä¸­ (`http://127.0.0.1:5173`)
- âœ… æ•°æ®åº“å·²åˆå§‹åŒ– (SQLite `octa.db`)

### å¯åŠ¨æ­¥éª¤

#### 1. å¯åŠ¨åç«¯
```bash
cd octa_backend
..\octa_env\Scripts\activate  # Windows
python main.py
```

æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬:
```bash
cd octa_backend
start_server.bat  # WindowsåŒå‡»æˆ–å‘½ä»¤è¡Œ
```

#### 2. å¯åŠ¨å‰ç«¯
```bash
cd octa_frontend
npm run dev
```

æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ `http://127.0.0.1:5173`

---

## ğŸ“¸ åŠŸèƒ½æ¼”ç¤º

### åœºæ™¯A: å›¾åƒåˆ†å‰² - ä½¿ç”¨å†å²å›¾åƒ

**æ­¥éª¤:**

1. **å‡†å¤‡æµ‹è¯•æ•°æ®**
   - é¦–æ¬¡è®¿é—®: å…ˆä¸Šä¼ å‡ å¼ OCTAå›¾åƒ
   - ç³»ç»Ÿè‡ªåŠ¨ä¿å­˜åˆ°æ•°æ®åº“å’Œç£ç›˜

2. **é€‰æ‹©å†å²å›¾åƒ**
   ```
   é¡µé¢: é¦–é¡µ (å›¾åƒåˆ†å‰²)
   â†’ æ­¥éª¤1: ç‚¹å‡»"é€‰æ‹©å·²ä¸Šä¼ æ–‡ä»¶"æ ‡ç­¾
   â†’ æŸ¥çœ‹åˆ—è¡¨: æ˜¾ç¤ºä¹‹å‰ä¸Šä¼ çš„æ‰€æœ‰å›¾åƒ
   â†’ ç‚¹å‡»"é€‰æ‹©"æŒ‰é’®: è‡ªåŠ¨åŠ è½½é¢„è§ˆ
   ```

3. **æ‰§è¡Œåˆ†å‰²**
   ```
   â†’ æ­¥éª¤2: é€‰æ‹©æ¨¡å‹ "U-Net" æˆ– "RS-Unet3+"
   â†’ ç‚¹å‡»"å¼€å§‹å›¾åƒåˆ†å‰²"
   â†’ ç­‰å¾…å¤„ç† (é€šå¸¸10-30ç§’)
   â†’ æŸ¥çœ‹ç»“æœ: åŸå›¾ vs åˆ†å‰²å›¾å¯¹æ¯”
   ```

**é¢„æœŸæ•ˆæœ:**
- âœ… æ— éœ€é‡æ–°ä¸Šä¼ å›¾åƒ
- âœ… é¢„è§ˆå›¾è‡ªåŠ¨æ˜¾ç¤º
- âœ… åˆ†å‰²é€Ÿåº¦ä¸ä¸Šä¼ æ–°å›¾åƒç›¸åŒ
- âœ… ç»“æœè´¨é‡æ— å·®å¼‚

---

### åœºæ™¯B: æ¨¡å‹è®­ç»ƒ - ä½¿ç”¨å†å²æ•°æ®é›†

**æ­¥éª¤:**

1. **å‡†å¤‡æµ‹è¯•æ•°æ®**
   - å‡†å¤‡OCTAæ•°æ®é›†ZIPåŒ… (åŒ…å« `images/` å’Œ `masks/` æ–‡ä»¶å¤¹)
   - é¦–æ¬¡ä¸Šä¼ å¹¶è®°å½•

2. **é€‰æ‹©å†å²æ•°æ®é›†**
   ```
   é¡µé¢: æ¨¡å‹è®­ç»ƒ
   â†’ é€‰æ‹©æ¨¡å‹æ¶æ„: U-Net æˆ– RS-Unet3+
   â†’ ç‚¹å‡»"é€‰æ‹©å·²ä¸Šä¼ æ•°æ®é›†"æ ‡ç­¾
   â†’ æŸ¥çœ‹åˆ—è¡¨: æ˜¾ç¤ºä¹‹å‰ä¸Šä¼ çš„æ‰€æœ‰æ•°æ®é›†
   â†’ ç‚¹å‡»"é€‰æ‹©"æŒ‰é’®: æ ‡è®°ä¸ºå·²é€‰æ‹©
   ```

3. **é…ç½®å¹¶è®­ç»ƒ**
   ```
   â†’ é…ç½®å‚æ•°:
     - è®­ç»ƒè½®æ•°: 10 (é»˜è®¤)
     - å­¦ä¹ ç‡: 0.001 (é»˜è®¤)
     - æ‰¹æ¬¡å¤§å°: 4 (é»˜è®¤)
   â†’ ç‚¹å‡»"å¼€å§‹è®­ç»ƒ"
   â†’ æŸ¥çœ‹è®­ç»ƒè¿›åº¦
   â†’ ç­‰å¾…å®Œæˆ (æ—¶é—´å–å†³äºæ•°æ®é›†å¤§å°å’Œè½®æ•°)
   ```

**é¢„æœŸæ•ˆæœ:**
- âœ… è·³è¿‡æ•°æ®é›†ä¸Šä¼ æ­¥éª¤
- âœ… ç›´æ¥å¼€å§‹è®­ç»ƒ
- âœ… èŠ‚çœæ—¶é—´ (50MBæ•°æ®é›†çº¦èŠ‚çœ1-2åˆ†é’Ÿ)

---

## ğŸ¯ å…¸å‹ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: æ‰¹é‡åˆ†å‰²åŒç±»å›¾åƒ

**é—®é¢˜:** éœ€è¦å¯¹10å¼ ç›¸ä¼¼çš„OCTAå›¾åƒè¿›è¡Œåˆ†å‰²

**ä¼ ç»Ÿæ–¹å¼:**
```
æ¯å¼ å›¾åƒéƒ½éœ€è¦:
1. é€‰æ‹©æ–‡ä»¶ (ç‚¹å‡»3æ¬¡)
2. ç­‰å¾…ä¸Šä¼  (2-5ç§’)
3. é€‰æ‹©æ¨¡å‹ (ç‚¹å‡»2æ¬¡)
4. å¼€å§‹åˆ†å‰² (ç­‰å¾…10-30ç§’)
æ€»è€—æ—¶: çº¦ 15-40ç§’/å¼  Ã— 10 = 150-400ç§’
```

**ä½¿ç”¨æ–‡ä»¶é€‰æ‹©å™¨:**
```
é¦–æ¬¡ä¸Šä¼ 10å¼ å›¾åƒ (ä¸€æ¬¡æ€§)
åç»­åˆ†å‰²æ¯å¼ :
1. ç‚¹å‡»"é€‰æ‹©å·²ä¸Šä¼ æ–‡ä»¶" (1æ¬¡)
2. ç‚¹å‡»å›¾åƒ"é€‰æ‹©"æŒ‰é’® (1æ¬¡)
3. é€‰æ‹©æ¨¡å‹ (1æ¬¡)
4. å¼€å§‹åˆ†å‰² (ç­‰å¾…10-30ç§’)
æ€»è€—æ—¶: çº¦ 12-32ç§’/å¼  Ã— 10 = 120-320ç§’
èŠ‚çœ: 30-80ç§’ (çº¦20-25%)
```

---

### åœºæ™¯2: æ¨¡å‹å¯¹æ¯”å®éªŒ

**é—®é¢˜:** ä½¿ç”¨åŒä¸€æ•°æ®é›†æµ‹è¯•ä¸åŒæ¨¡å‹ (U-Net vs RS-Unet3+)

**ä¼ ç»Ÿæ–¹å¼:**
```
æ¯ä¸ªæ¨¡å‹éƒ½éœ€è¦:
1. ä¸Šä¼ æ•°æ®é›†ZIP (1-2åˆ†é’Ÿ)
2. è§£å‹éªŒè¯ (10-30ç§’)
3. é…ç½®å‚æ•°
4. å¼€å§‹è®­ç»ƒ
æ€»å‡†å¤‡æ—¶é—´: çº¦ 1.5-2.5åˆ†é’Ÿ/æ¬¡ Ã— 2æ¨¡å‹ = 3-5åˆ†é’Ÿ
```

**ä½¿ç”¨æ–‡ä»¶é€‰æ‹©å™¨:**
```
é¦–æ¬¡ä¸Šä¼ æ•°æ®é›† (1æ¬¡)
åç»­æ¯ä¸ªæ¨¡å‹:
1. é€‰æ‹©å†å²æ•°æ®é›† (2ç§’)
2. é…ç½®å‚æ•°
3. å¼€å§‹è®­ç»ƒ
æ€»å‡†å¤‡æ—¶é—´: çº¦ 10ç§’/æ¬¡ Ã— 2æ¨¡å‹ = 20ç§’
èŠ‚çœ: 2.5-4.5åˆ†é’Ÿ (çº¦80-90%)
```

---

### åœºæ™¯3: é‡å¤å®éªŒ

**é—®é¢˜:** éœ€è¦è°ƒæ•´è¶…å‚æ•°å¤šæ¬¡é‡è·‘è®­ç»ƒ

**ä¼ ç»Ÿæ–¹å¼:**
```
æ¯æ¬¡å®éªŒ:
1. é‡æ–°ä¸Šä¼ æ•°æ®é›† (1-2åˆ†é’Ÿ)
2. ä¿®æ”¹è¶…å‚æ•°
3. å¼€å§‹è®­ç»ƒ
è¿›è¡Œ5æ¬¡å®éªŒ: 5-10åˆ†é’Ÿä»…ç”¨äºä¸Šä¼ 
```

**ä½¿ç”¨æ–‡ä»¶é€‰æ‹©å™¨:**
```
é¦–æ¬¡ä¸Šä¼ æ•°æ®é›† (1æ¬¡)
åç»­æ¯æ¬¡å®éªŒ:
1. é€‰æ‹©å†å²æ•°æ®é›† (2ç§’)
2. ä¿®æ”¹è¶…å‚æ•°
3. å¼€å§‹è®­ç»ƒ
è¿›è¡Œ5æ¬¡å®éªŒ: 10ç§’ç”¨äºé€‰æ‹©
èŠ‚çœ: 4.8-9.8åˆ†é’Ÿ (çº¦96%)
```

---

## ğŸ”§ éªŒè¯åŠŸèƒ½æ˜¯å¦æ­£å¸¸

### å¿«é€Ÿæ£€æŸ¥å‘½ä»¤

#### 1. æ£€æŸ¥åç«¯API
```bash
# æ£€æŸ¥æ–‡ä»¶åˆ—è¡¨API
curl "http://127.0.0.1:8000/file/list?file_type=image"

# æœŸæœ›è¾“å‡º:
# {
#   "code": 200,
#   "msg": "...",
#   "data": [...]
# }
```

#### 2. æ£€æŸ¥æ•°æ®åº“
```bash
cd octa_backend
sqlite3 octa.db "SELECT COUNT(*) FROM files WHERE file_type='image';"

# æœŸæœ›è¾“å‡º: æ•°å­— (å·²ä¸Šä¼ çš„å›¾åƒæ•°é‡)
```

#### 3. æ£€æŸ¥å‰ç«¯ç»„ä»¶
```
æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)
â†’ Consoleæ ‡ç­¾
â†’ åº”æ— çº¢è‰²é”™è¯¯ä¿¡æ¯
â†’ Networkæ ‡ç­¾: æŸ¥çœ‹APIè¯·æ±‚æ˜¯å¦æ­£å¸¸
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: åˆ‡æ¢åˆ°"é€‰æ‹©å·²ä¸Šä¼ æ–‡ä»¶"æ ‡ç­¾,åˆ—è¡¨ä¸ºç©º?

**A1:** æ£€æŸ¥ä»¥ä¸‹é¡¹:
1. æ˜¯å¦æ›¾ç»ä¸Šä¼ è¿‡æ–‡ä»¶?
   ```bash
   sqlite3 octa_backend/octa.db "SELECT * FROM files WHERE file_type='image';"
   ```
2. åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ?
   ```bash
   curl http://127.0.0.1:8000/
   ```
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯?

---

### Q2: é€‰æ‹©å†å²å›¾åƒå,é¢„è§ˆä¸æ˜¾ç¤º?

**A2:** å¯èƒ½åŸå› :
1. æ–‡ä»¶å·²ä»ç£ç›˜åˆ é™¤
   - æ£€æŸ¥: `ls octa_backend/uploads/*.png`
2. æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒ (ä»…æ”¯æŒPNG/JPG/JPEG)
3. åç«¯é¢„è§ˆAPIæŠ¥é”™
   - æ£€æŸ¥åç«¯æ—¥å¿—

---

### Q3: ä½¿ç”¨å†å²æ•°æ®é›†è®­ç»ƒå¤±è´¥?

**A3:** æ£€æŸ¥:
1. æ•°æ®é›†æ–‡ä»¶æ˜¯å¦å®Œæ•´?
   ```bash
   unzip -l octa_backend/uploads/datasets/xxx.zip
   ```
   åº”åŒ…å« `images/` å’Œ `masks/` æ–‡ä»¶å¤¹
2. å‹ç¼©åŒ…æ ¼å¼æ˜¯å¦æ”¯æŒ? (ZIP/RAR/7Z)
3. æ–‡ä»¶æƒé™æ˜¯å¦æ­£ç¡®?
   ```bash
   chmod 755 octa_backend/uploads/datasets/
   ```

---

### Q4: é€‰æ‹©å†å²æ–‡ä»¶å,èƒ½å¦åˆ‡æ¢å›ä¸Šä¼ æ–°æ–‡ä»¶?

**A4:** å¯ä»¥!ä¸¤ç§æ¨¡å¼äº’æ–¥:
- é€‰æ‹©å†å²æ–‡ä»¶ â†’ æ¸…ç©ºä¸Šä¼ åˆ—è¡¨
- ä¸Šä¼ æ–°æ–‡ä»¶ â†’ æ¸…ç©ºå†å²é€‰æ‹©

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **è¯¦ç»†ä½¿ç”¨è¯´æ˜:** `FILE_SELECTOR_USAGE.md`
- **æµ‹è¯•æ¸…å•:** `FILE_SELECTOR_TEST_CHECKLIST.md`
- **åç«¯APIæ–‡æ¡£:** `http://127.0.0.1:8000/docs` (Swagger)
- **å‰ç«¯ç»„ä»¶æºç :** `octa_frontend/src/components/FileSelector.vue`
- **åç«¯æ§åˆ¶å™¨æºç :** `octa_backend/controller/file_controller.py`

---

## ğŸ’¡ æœ€ä½³å®è·µ

### å»ºè®®1: å®šæœŸæ¸…ç†å†å²æ–‡ä»¶
```bash
# åˆ é™¤30å¤©å‰çš„æ–‡ä»¶ (Linux/Mac)
find octa_backend/uploads -type f -mtime +30 -delete

# Windows PowerShell
Get-ChildItem -Path "octa_backend\uploads" -Recurse | 
  Where-Object {$_.LastWriteTime -lt (Get-Date).AddDays(-30)} | 
  Remove-Item -Force
```

### å»ºè®®2: æ ‡å‡†åŒ–æ–‡ä»¶å‘½å
```
æ¨èæ ¼å¼:
- å›¾åƒ: patient_001_oct_2026-01-20.png
- æ•°æ®é›†: dataset_octa_train_v1.zip

é¿å…:
- ä¸­æ–‡æ–‡ä»¶å
- ç‰¹æ®Šå­—ç¬¦ (#, @, &)
- è¿‡é•¿æ–‡ä»¶å (>50å­—ç¬¦)
```

### å»ºè®®3: å¤‡ä»½é‡è¦æ•°æ®é›†
```bash
# å¤‡ä»½æ•°æ®åº“
cp octa_backend/octa.db octa_backend/octa_backup_$(date +%Y%m%d).db

# å¤‡ä»½ä¸Šä¼ æ–‡ä»¶
tar -czf uploads_backup_$(date +%Y%m%d).tar.gz octa_backend/uploads/
```

---

**ğŸ‰ å¼€å§‹ä½“éªŒå§!æœ‰é—®é¢˜éšæ—¶æŸ¥é˜…æ–‡æ¡£æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚**

---

**æœ€åæ›´æ–°:** 2026-01-20  
**ä½œè€…:** GitHub Copilot AI  
**ç‰ˆæœ¬:** 1.0.0
